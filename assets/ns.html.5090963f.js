import{r as i,o as a,c,a as e,b as o,F as r,d as s,e as n}from"./app.b16eb08f.js";import{_ as l}from"./plugin-vue_export-helper.21dcd24c.js";const d={},p=e("h1",{id:"misskey-extensions-to-activitypub",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#misskey-extensions-to-activitypub","aria-hidden":"true"},"#"),s(" Misskey Extensions to ActivityPub")],-1),h=e("p",null,"This page documents the extensions to ActivityPub that Misskey uses. This page lists some context items defined in JSON-LD contexts and explains their semantics.",-1),u=s("This document uses "),m={href:"https://www.w3.org/TR/json-ld/#dfn-compact-iri",target:"_blank",rel:"noopener noreferrer"},_=s("compact IRIs"),y=s(". The prefix "),k=e("code",null,"ap",-1),b=s(" is used to refer to "),f=e("code",null,"https://www.w3.org/ns/activitystreams#",-1),v=s(". The prefix "),g=e("code",null,"misskey",-1),I=s(" is used to refer to "),x=e("code",null,"https://misskey-hub-net/ns#",-1),w=s("."),T=e("h2",{id:"misskey-content",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#misskey-content","aria-hidden":"true"},"#"),s(),e("code",null,"_misskey_content")],-1),j=e("ul",null,[e("li",null,[s("compact IRI: "),e("code",null,"misskey:_misskey_content")]),e("li",null,[s("canonical IRI: "),e("code",null,"https://misskey-hub.net/ns#_misskey_content")])],-1),R={class:"custom-container warning"},q=e("i",{class:"fas fa-exclamation"},null,-1),M=s("This value is deprecated and might be removed in the future. See also "),N={href:"https://github.com/misskey-dev/misskey/pull/8787",target:"_blank",rel:"noopener noreferrer"},A=s("https://github.com/misskey-dev/misskey/pull/8787"),P=s("."),C=n(`<p>This value is identical to having a <code>source</code> property like this:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">content</span><span class="token operator">:</span> _misskey_content<span class="token punctuation">,</span>
	<span class="token literal-property property">mediaType</span><span class="token operator">:</span> <span class="token string">&quot;text/x.misskeymarkdown&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Where <code>_misskey_content</code> represents the value of the field described in this section.</p><h2 id="misskey-quote" tabindex="-1"><a class="header-anchor" href="#misskey-quote" aria-hidden="true">#</a> <code>_misskey_quote</code></h2><ul><li>compact IRI: <code>misskey:_misskey_quote</code></li><li>canonical IRI: <code>https://misskey-hub.net/ns#_misskey_quote</code></li></ul>`,5),E={class:"custom-container tip"},L=e("i",{class:"fas fa-info"},null,-1),U=s("Ways to potentially provide this information using the core ActivityPub vocabulary are currently underway, see "),V={href:"https://github.com/misskey-dev/misskey/issues/8722",target:"_blank",rel:"noopener noreferrer"},W=s("https://github.com/misskey-dev/misskey/issues/8722"),B=s("."),S=n(`<p>Indicates that this note is quoting another note. It contains the <code>id</code> of the note being quoted.</p><p>This seems to be identical to <code>https://fedibird.com/ns#quoteUri</code>. Misskey also uses <code>as:quoteUrl</code> for this but this was not adopted to the ActivityPub specification. This is for compatibility with some other ActivityPub programs that operate using this.</p><h2 id="misskey-reaction" tabindex="-1"><a class="header-anchor" href="#misskey-reaction" aria-hidden="true">#</a> <code>_misskey_reaction</code></h2><ul><li>compact IRI: <code>misskey:_misskey_reaction</code></li><li>canonical IRI: <code>https://misskey-hub.net/ns#_misskey_reaction</code></li></ul><p>Misskey federates its reactions as <code>Like</code> activities. What kind of reaction was used is conveyed using this field. Misskey also sets <code>ap:content</code> of the <code>Like</code> activity to the same value.</p><p>The content will be a string that either contains a single Unicode Emoji or a string that starts and ends with a colon. In the latter case the reaction uses a custom emoji, and the <code>tag</code> property will be set to contain the data of the respective emoji.</p><h2 id="misskey-votes" tabindex="-1"><a class="header-anchor" href="#misskey-votes" aria-hidden="true">#</a> <code>_misskey_votes</code></h2><ul><li>compact IRI: <code>misskey:_misskey_votes</code></li><li>canonical IRI: <code>https://misskey-hub.net/ns#_misskey_votes</code></li></ul><p>This value is used for <code>Question</code> activities to indicate the number of votes an option currently has. This value is identical to having a <code>replies</code> property like this:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">replies</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;Collection&#39;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">totalItems</span><span class="token operator">:</span> _misskey_votes
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Where <code>_misskey_votes</code> represents the value of the field described in this section.</p><h2 id="misskey-talk" tabindex="-1"><a class="header-anchor" href="#misskey-talk" aria-hidden="true">#</a> <code>_misskey_talk</code></h2><ul><li>compact IRI: <code>misskey:_misskey_talk</code></li><li>canonical IRI: <code>https://misskey-hub.net/ns#_misskey_talk</code></li></ul><p>This value is used for <code>Note</code> type objects to indicate that they are a Misskey chat message. Misskey handles these kinds of messages specially, e.g. it will apply different audience scoping rules and show them via a different API than usual <code>Note</code> objects.</p><p>This field can only take the value of <code>true</code> (or be absent).</p><h2 id="iscat" tabindex="-1"><a class="header-anchor" href="#iscat" aria-hidden="true">#</a> <code>isCat</code></h2><ul><li>compact IRI: <code>misskey:isCat</code></li><li>canonical IRI: <code>https://misskey-hub.net/ns#isCat</code></li></ul><p>Used on actors to indicate that they in some way identify as a cat, expressed as a boolean value. If this property is set to <code>true</code>, displaying the actor or their notes will have some special effects attached in some clients.</p>`,18);function F(D,J){const t=i("ExternalLinkIcon");return a(),c(r,null,[p,h,e("p",null,[u,e("a",m,[_,o(t)]),y,k,b,f,v,g,I,x,w]),T,j,e("div",R,[q,e("p",null,[M,e("a",N,[A,o(t)]),P])]),C,e("div",E,[L,e("p",null,[U,e("a",V,[W,o(t)]),B])]),S],64)}var z=l(d,[["render",F]]);export{z as default};
