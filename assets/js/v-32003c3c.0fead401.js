"use strict";(self.webpackChunkmisskey_hub=self.webpackChunkmisskey_hub||[]).push([[2812],{8550:(e,s,t)=>{t.r(s),t.d(s,{default:()=>h});var a=t(6252);const i=(0,a.uE)('<h1 id="misskey-api" tabindex="-1"><a class="header-anchor" href="#misskey-api" aria-hidden="true">#</a> Misskey API</h1><p>Misskey exposes an API that you can use to develop Misskey clients, Misskey-connected web services, bots, etc. (&quot;Applications&quot;). We also have a streaming API, so you can create applications with real-time capabilities.</p><div class="custom-container tip"><i class="fas fa-info"></i><p>By using the official Misskey SDK or third party libraries, you can use the API more conveniently, for example by simplifying some of the steps described in this document. See <a href="TODO">here</a> for more information about libraries.</p></div><p>To start using the API, you will need to obtain an <strong>access token</strong> associated with the account you wish to use the API with. This document will walk you through the process of obtaining an access token and then show you how to use the API in a basic way.</p><h2 id="getting-an-access-token" tabindex="-1"><a class="header-anchor" href="#getting-an-access-token" aria-hidden="true">#</a> Getting an access token</h2><p>The API generally requires an access token to make a request. An access token is a set of credentials associated with a user, which identifies the user using the API and controls what operations each access token is authorised to perform.</p><div class="custom-container tip"><i class="fas fa-info"></i><p>There is a one-to-many relationship between a user and the access token associated with that user, and multiple access tokens can be issued for a given user.</p></div><p>You can easily <a href="#Manually-issue-an-access-token">obtain an access token for yourself</a>, or you can <a href="#Request-an-access-token-to-be-issued">obtain an access token for an user who will be using your application</a>.</p><h3 id="manually-issue-an-access-token" tabindex="-1"><a class="header-anchor" href="#manually-issue-an-access-token" aria-hidden="true">#</a> Manually issue an access token</h3><p>You can issue your own access token in Misskey Web under &#39;Settings &gt; API&#39;.</p><div class="custom-container danger"><i class="fas fa-times"></i><p>Please do not share your access token with anyone.</p></div><h3 id="request-an-access-token-to-be-issued" tabindex="-1"><a class="header-anchor" href="#request-an-access-token-to-be-issued" aria-hidden="true">#</a> Request an access token to be issued</h3><p>To obtain an access token for a user of the application ( simply &quot;the user&quot;), you can request it to be issued in the following way.</p><h4 id="step-1" tabindex="-1"><a class="header-anchor" href="#step-1" aria-hidden="true">#</a> Step 1</h4><p>Generate a UUID. This will be referred to as the <strong>session ID</strong> from now on.</p><div class="custom-container danger"><i class="fas fa-times"></i><p>This session ID should be generated each time and should not be reused.</p></div><h4 id="step-2" tabindex="-1"><a class="header-anchor" href="#step-2" aria-hidden="true">#</a> Step 2</h4><p>The application authentication form should be displayed in the user&#39;s browser. The authentication form can be opened with a URL similar to this:</p><div class="language-text ext-text"><pre class="language-text"><code>https://{host}/miauth/{session}\n</code></pre></div><p>where</p><ul><li><code>{host}</code> is the host of the user&#39;s instance (usually this is entered by the user) and</li><li><code>{session}</code> is the session ID.</li></ul><p>You can also set a few options as query parameters to the URL:</p><table><thead><tr><th>name</th><th>description</th></tr></thead><tbody><tr><td><code>name</code></td><td>application name</td></tr><tr><td><code>icon</code></td><td>application icon image URLã€‚</td></tr><tr><td><code>callback</code></td><td>The URL to which the user will be redirected after authentication, with the session ID added to the redirect with the query parameter <code>session</code>.</td></tr><tr><td><code>permission</code></td><td>The permissions that the application requires. <br>List the permissions to be requested, separated by <code>,</code>. The list of permissions can be found <a href="TODO">here</a>.</td></tr></tbody></table><div class="custom-container tip"><i class="fas fa-info"></i><p class="custom-container-title">Example</p><div class="language-text ext-text"><pre class="language-text"><code>https://misskey.io/miauth/c1f6d42b-468b-4fd2-8274-e58abdedef6f?name=MyApp&amp;callback=https%3A%2F%2Fmyapp.example.com%2Fcallback&amp;permisson=write:notes,write:following,read:drive\n</code></pre></div></div><h4 id="step-3" tabindex="-1"><a class="header-anchor" href="#step-3" aria-hidden="true">#</a> Step 3</h4><p>After the user has been granted application access, a POST request to a URL of the following form will return JSON containing the access token as a response.</p><div class="language-text ext-text"><pre class="language-text"><code>https://{host}/api/miauth/{session}/check\n</code></pre></div><p>where</p><ul><li><code>{host}</code> is the host of the user&#39;s instance and</li><li><code>{session}</code> is the session ID.</li></ul><p>The properties included in the response are as follows:</p><table><thead><tr><th>name</th><th>description</th></tr></thead><tbody><tr><td><code>token</code></td><td>access token for the user</td></tr><tr><td><code>user</code></td><td>information about the user</td></tr></tbody></table><h2 id="using-the-api" tabindex="-1"><a class="header-anchor" href="#using-the-api" aria-hidden="true">#</a> Using the API</h2><p>Once you have your API access token, you can use the API by making requests to the various endpoints. <strong>All HTTP APIs are POST and both request/response are in JSON format.</strong></p><div class="custom-container warning"><i class="fas fa-exclamation"></i><p>Misskey does not use REST.</p></div><p>The access token is included in the request body JSON at the parameter <code>i</code>.</p><p>For more information on the API, see the <a href="TODO">API Reference</a>.</p>',36),n=(0,a.Uk)("In addition to the HTTP API, Misskey also provides a streaming API. More information about the streaming API can be found "),o=(0,a.Uk)("here"),c=(0,a.Uk)("."),r=(0,a._)("div",{class:"custom-container tip"},[(0,a._)("i",{class:"fas fa-info"}),(0,a._)("p",null,[(0,a.Uk)("Your Misskey instance also provides API documentation at "),(0,a._)("code",null,"/api-doc"),(0,a.Uk)(".")])],-1),d={},h=(0,t(3744).Z)(d,[["render",function(e,s){const t=(0,a.up)("RouterLink");return(0,a.wg)(),(0,a.iD)(a.HY,null,[i,(0,a._)("p",null,[n,(0,a.Wm)(t,{to:"/en/docs/api/streaming/"},{default:(0,a.w5)((()=>[o])),_:1}),c]),r],64)}]])},3744:(e,s)=>{s.Z=(e,s)=>{for(const[t,a]of s)e[t]=a;return e}},4216:(e,s,t)=>{t.r(s),t.d(s,{data:()=>a});const a={key:"v-32003c3c",path:"/en/docs/api/",title:"Misskey API",lang:"en-US",frontmatter:{description:'Misskey exposes an API that you can use to develop Misskey clients, Misskey-connected web services, bots, etc. ("Applications").'},excerpt:"",headers:[{level:2,title:"Getting an access token",slug:"getting-an-access-token",children:[{level:3,title:"Manually issue an access token",slug:"manually-issue-an-access-token",children:[]},{level:3,title:"Request an access token to be issued",slug:"request-an-access-token-to-be-issued",children:[]}]},{level:2,title:"Using the API",slug:"using-the-api",children:[]}],filePathRelative:"en/docs/api/index.md",git:{updatedTime:1638643779e3,contributors:[{name:"Johann150",email:"johann.galle@protonmail.com",commits:1}]}}}}]);